<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of bot_demo_all</title>
  <meta name="keywords" content="bot_demo_all">
  <meta name="description" content="Bearings Only Tracking (BOT demonstration with EKF1,EKF2 and UKF">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">src</a> &gt; <a href="#">demos</a> &gt; <a href="index.html">bot_demo</a> &gt; bot_demo_all.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for src/demos/bot_demo&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>bot_demo_all
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>Bearings Only Tracking (BOT demonstration with EKF1,EKF2 and UKF</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Bearings Only Tracking (BOT demonstration with EKF1,EKF2 and UKF</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="az_d2h_dx2.html" class="code" title="function dY = az_d2h_dx2(x,s)">az_d2h_dx2</a>	AZ_D2H_DX2 2nd order derivatives of the measurement function for 2nd order EKF</li><li><a href="az_dh_dx.html" class="code" title="function dY = az_dh_dx(x,s)">az_dh_dx</a>	AZ_DH_DX Measurement derivative function for EKF.</li><li><a href="az_h.html" class="code" title="function Y = az_h(x,s)">az_h</a>	AZ_H Azimuth measurement function for EKF/UKF.</li><li><a href="../../../src/der_check.html" class="code" title="function [D0,D1] = der_check(f,df,index,varargin)">der_check</a>	DER_CHECK  Check derivatives using finite differences</li><li><a href="../../../src/efbf_smooth1.html" class="code" title="function [M,P] = efbf_smooth1(M,P,Y,A,Q,ia,W,aparam,H,R,h,V,hparam,same_p_a,same_p_h)">efbf_smooth1</a>	EFBF_SMOOTH  Extended Forward-Backward Filtering Based Smoother</li><li><a href="../../../src/ekf_predict1.html" class="code" title="function [M,P] = ekf_predict1(M,P,A,Q,a,W,param)">ekf_predict1</a>	EKF_PREDICT  1st order Extended Kalman Filter prediction step</li><li><a href="../../../src/ekf_update1.html" class="code" title="function [M,P,K,IM,S,LH] = ekf_update1(M,P,y,H,R,h,V,param)">ekf_update1</a>	EKF_UPDATE  1st order Extended Kalman Filter update step</li><li><a href="../../../src/ekf_update2.html" class="code" title="function [M,P,K,IM,S,LH] = ekf_update2(M,P,y,H,H_xx,R,h,V,param)">ekf_update2</a>	EKF_UPDATE  2nd order Extended Kalman Filter update step</li><li><a href="../../../src/erts_smooth1.html" class="code" title="function [M,P,D] = erts_smooth1(M,P,A,Q,a,W,param,same_p)">erts_smooth1</a>	ERTS_SMOOTH1  Extended Rauch-Tung-Striebel smoother</li><li><a href="../../../src/lti_disc.html" class="code" title="function [A,Q] = lti_disc(F,L,Q,dt)">lti_disc</a>	LTI_DISC  Discretize LTI ODE with Gaussian Noise</li><li><a href="../../../src/ufbf_smooth1.html" class="code" title="function [M,P] = ufbf_smooth1(M,P,Y,ia,Q,aparam,h,R,hparam,alpha,beta,kappa,mat,same_p_a,same_p_h)">ufbf_smooth1</a>	UFBF_SMOOTH1  Unscented Forward-Backward Filtering Based Smoother</li><li><a href="../../../src/ukf_predict1.html" class="code" title="function [M,P] = ukf_predict1(M,P,a,Q,param,alpha,beta,kappa,mat)">ukf_predict1</a>	UKF_PREDICT1  Additive form Unscented Kalman Filter prediction step</li><li><a href="../../../src/ukf_update1.html" class="code" title="function [M,P,K,MU,S,LH] = ukf_update1(M,P,Y,h,R,param,alpha,beta,kappa,mat)">ukf_update1</a>	UKF_UPDATE1 -  Additive form Unscented Kalman Filter update step</li><li><a href="../../../src/urts_smooth1.html" class="code" title="function [M,P,D] = urts_smooth1(M,P,a,Q,param,alpha,beta,kappa,mat,same_p)">urts_smooth1</a>	URTS_SMOOTH1  Additive form Unscented Rauch-Tung-Striebel smoother</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% Bearings Only Tracking (BOT demonstration with EKF1,EKF2 and UKF</span>
0002 
0003 <span class="comment">% Copyright (C) 2002, 2003 Simo Särkkä</span>
0004 <span class="comment">%                     2007 Jouni Hartikainen</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% $Id: ukfs_demo1.m,v 1.5 2006/10/10 20:18:54 ssarkka Exp $</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% This software is distributed under the GNU General Public</span>
0009 <span class="comment">% Licence (version 2 or later); please refer to the file</span>
0010 <span class="comment">% Licence.txt, included with the software, for details.</span>
0011 
0012   silent = 0;
0013   save_plots = 1;
0014   
0015   <span class="comment">% Measurement mean and derivative</span>
0016   <span class="comment">%</span>
0017   <span class="comment">%  h = atan((y-sy) / (x-sx))</span>
0018   h_func = @<a href="az_h.html" class="code" title="function Y = az_h(x,s)">az_h</a>;
0019   dh_dx_func = @<a href="az_dh_dx.html" class="code" title="function dY = az_dh_dx(x,s)">az_dh_dx</a>;
0020   d2h_dx2_func = @<a href="az_d2h_dx2.html" class="code" title="function dY = az_d2h_dx2(x,s)">az_d2h_dx2</a>;
0021   
0022   <span class="comment">% Create a bit curved trajectory and angle</span>
0023   <span class="comment">% measurements from two sensors</span>
0024   S1 = [-1;-2];
0025   S2 = [1;1];
0026   sd = 0.05;
0027   dt = 0.01;
0028 
0029   <span class="comment">% Acceleration for the target to have a curved trajectory</span>
0030   a = zeros(1,500);
0031   a(1,50:100)  = pi/2/51/dt + 0.01*randn(1,51);
0032   a(1,200:250) = pi/2/51/dt + 0.01*randn(1,51);
0033   a(1,350:400) = pi/2/51/dt + 0.01*randn(1,51);
0034     
0035   <span class="comment">% Starting state</span>
0036   x = [0;0;1;0];
0037   t = 0;
0038   X = [];
0039   Y = [];
0040   T = [];
0041   <span class="keyword">for</span> i=1:500
0042     <span class="comment">% Dynamics in continous case</span>
0043     F = [0 0  1    0;<span class="keyword">...</span>
0044          0 0  0    1;<span class="keyword">...</span>
0045          0 0  0   a(i);<span class="keyword">...</span>
0046          0 0 -a(i) 0];
0047     <span class="comment">% Discretization for the data generation</span>
0048     x = expm(F*dt)*x;
0049     <span class="comment">% Angular measurements for both sensors.</span>
0050     y1 = atan2(x(2)-S1(2), x(1)-S1(1)) + sd * randn;
0051     y2 = atan2(x(2)-S2(2), x(1)-S2(1)) + sd * randn;
0052       
0053     <span class="comment">% Save the data</span>
0054     t  = t + dt;
0055     X = [X x];
0056     T = [T t];
0057     Y = [Y [y1;y2]];
0058   <span class="keyword">end</span>
0059 
0060   <span class="comment">% Prior for position and velocity</span>
0061   M_0 = [0;0;0;0];
0062   P_0 = diag([0.1 0.1 10 10]);
0063 
0064   <span class="comment">% Discretize the continous model</span>
0065   qx = 0.1;
0066   qy = 0.1;
0067   F = [0 0 1 0;
0068        0 0 0 1;
0069        0 0 0 0;
0070        0 0 0 0];
0071   [A,Q] = <a href="../../../src/lti_disc.html" class="code" title="function [A,Q] = lti_disc(F,L,Q,dt)">lti_disc</a>(F,[],diag([0 0 qx qy]),dt);
0072 
0073 
0074   <span class="comment">%</span>
0075   <span class="comment">% Initialize EKF1</span>
0076   <span class="comment">%</span>
0077   M = M_0;
0078   P = P_0;
0079   R = sd^2;
0080   <span class="keyword">if</span> ~silent
0081     <a href="../../../src/der_check.html" class="code" title="function [D0,D1] = der_check(f,df,index,varargin)">der_check</a>(h_func, dh_dx_func, 1, M, S1);
0082     <a href="../../../src/der_check.html" class="code" title="function [D0,D1] = der_check(f,df,index,varargin)">der_check</a>(h_func, dh_dx_func, 1, M, S2);
0083   <span class="keyword">end</span>
0084   
0085   MM_EKF1 = zeros(size(M,1),size(Y,2));
0086   PP_EKF1 = zeros(size(M,1),size(M,1),size(Y,2));
0087   ME_EKF1 = zeros(size(M,1),1);
0088 
0089   <span class="comment">% Filter with EKF1</span>
0090   <span class="keyword">for</span> k = 1:size(Y,2) 
0091     [M,P] = <a href="../../../src/ekf_predict1.html" class="code" title="function [M,P] = ekf_predict1(M,P,A,Q,a,W,param)">ekf_predict1</a>(M,P,A,Q);
0092     [M,P] = <a href="../../../src/ekf_update1.html" class="code" title="function [M,P,K,IM,S,LH] = ekf_update1(M,P,y,H,R,h,V,param)">ekf_update1</a>(M,P,Y(:,k),dh_dx_func,R*eye(2),h_func,[],[S1 S2]);
0093     MM_EKF1(:,k)   = M;
0094     PP_EKF1(:,:,k) = P;
0095     ME_EKF1(k) = P(1,1) + P(2,2);
0096   <span class="keyword">end</span>
0097   
0098   <span class="comment">% RMSE for EKF1</span>
0099   ekf1_rmse = sqrt(mean((X(1,:)-MM_EKF1(1,:)).^2+(X(2,:)-MM_EKF1(2,:)).^2));
0100   fprintf(<span class="string">'EKF1-RMSE  = %.3f  [%.3f]\n'</span>,ekf1_rmse,sqrt(mean(ME_EKF1)));
0101 
0102   <span class="comment">% ERTS smoother</span>
0103   [SM1_EKF1,SP1_EKF1] = <a href="../../../src/erts_smooth1.html" class="code" title="function [M,P,D] = erts_smooth1(M,P,A,Q,a,W,param,same_p)">erts_smooth1</a>(MM_EKF1,PP_EKF1,A,Q);
0104   eks1_rmse1 = sqrt(mean((X(1,:)-SM1_EKF1(1,:)).^2+(X(2,:)-SM1_EKF1(2,:)).^2));
0105   ME1_EKF1 = squeeze(SP1_EKF1(1,1,:)+SP1_EKF1(2,2,:));
0106   fprintf(<span class="string">'EKS1-RMSE1 = %.4f [%.4f]\n'</span>,eks1_rmse1,sqrt(mean(ME1_EKF1)));
0107 
0108   <span class="comment">% EFBF smoother</span>
0109   [SM2_EKF1,SP2_EKF1] = <a href="../../../src/efbf_smooth1.html" class="code" title="function [M,P] = efbf_smooth1(M,P,Y,A,Q,ia,W,aparam,H,R,h,V,hparam,same_p_a,same_p_h)">efbf_smooth1</a>(MM_EKF1,PP_EKF1,Y,A,Q,[],[],[],<span class="keyword">...</span>
0110                 dh_dx_func,R*eye(2),h_func,[],[S1 S2]);
0111   eks1_rmse2 = sqrt(mean((X(1,:)-SM2_EKF1(1,:)).^2+(X(2,:)-SM2_EKF1(2,:)).^2));
0112   ME2_EKF1 = squeeze(SP2_EKF1(1,1,:)+SP2_EKF1(2,2,:));
0113   fprintf(<span class="string">'EKS-RMSE2 = %.4f [%.4f]\n'</span>,eks1_rmse2,sqrt(mean(ME2_EKF1)));
0114   
0115   <span class="comment">% Plot the results</span>
0116   <span class="keyword">if</span> ~silent
0117     plot(X(1,:),X(2,:),<span class="string">'k-'</span>,<span class="keyword">...</span>
0118          MM_EKF1(1,:),MM_EKF1(2,:),<span class="string">'b--'</span>,<span class="keyword">...</span>
0119          SM1_EKF1(1,:),SM1_EKF1(2,:),<span class="string">'r-.'</span>,<span class="keyword">...</span>
0120          SM2_EKF1(1,:),SM2_EKF1(2,:),<span class="string">'g-.'</span>,<span class="keyword">...</span>
0121          S1(1),S1(2),<span class="string">'k^'</span>,S2(1),S2(2),<span class="string">'k^'</span>);
0122     axis([-1.5 1.5 -2.5 1]);
0123     legend(<span class="string">'Real trajectory'</span>,<span class="keyword">...</span>
0124            <span class="string">'EKF1 estimate'</span>,<span class="keyword">...</span>
0125            <span class="string">'ERTS estimate'</span>,<span class="keyword">...</span>
0126            <span class="string">'EFBF estimate'</span>,<span class="keyword">...</span>
0127            <span class="string">'Positions of sensors'</span>,<span class="keyword">...</span>
0128            <span class="string">'Location'</span>, <span class="string">'NorthWest'</span>);
0129     title(<span class="string">'Filtering and smoothing result with 1st order EKF'</span>);
0130     <span class="keyword">if</span> save_plots
0131       print -dpsc bot_demo_ekf1.ps
0132     <span class="keyword">end</span>
0133   <span class="keyword">end</span>
0134   
0135   pause
0136   
0137   <span class="comment">%</span>
0138   <span class="comment">% Initialize EKF2</span>
0139   <span class="comment">%</span>
0140   M = M_0; 
0141   P = P_0;
0142   R = sd^2;
0143   <span class="keyword">if</span> ~silent
0144       <span class="comment">%der_check(dh_dx_func, d2h_dx2_func, 1, M, S1);</span>
0145       <span class="comment">%der_check(dh_dx_func, d2h_dx2_func, 1, M, S2);</span>
0146   <span class="keyword">end</span>
0147   
0148   MM_EKF2 = zeros(size(M,1),size(Y,2));
0149   PP_EKF2 = zeros(size(M,1),size(M,1),size(Y,2));
0150   ME_EKF2 = zeros(size(M,1),1);
0151   
0152   <span class="comment">% Filter with EKF2</span>
0153   <span class="keyword">for</span> k = 1:size(Y,2) 
0154     [M,P] = <a href="../../../src/ekf_predict1.html" class="code" title="function [M,P] = ekf_predict1(M,P,A,Q,a,W,param)">ekf_predict1</a>(M,P,A,Q);
0155     [M,P] = <a href="../../../src/ekf_update2.html" class="code" title="function [M,P,K,IM,S,LH] = ekf_update2(M,P,y,H,H_xx,R,h,V,param)">ekf_update2</a>(M,P,Y(:,k),dh_dx_func,d2h_dx2_func,R*eye(2),h_func,[],[S1 S2]);
0156     MM_EKF2(:,k)   = M;
0157     PP_EKF2(:,:,k) = P;
0158     ME_EKF2(k) = P(1,1) + P(2,2);
0159   <span class="keyword">end</span>
0160   
0161   ekf2_rmse = sqrt(mean((X(1,:)-MM_EKF2(1,:)).^2+(X(2,:)-MM_EKF2(2,:)).^2));
0162   fprintf(<span class="string">'EKF2-RMSE  = %.3f  [%.3f]\n'</span>,ekf2_rmse,sqrt(mean(ME_EKF2)));
0163 
0164   <span class="comment">%</span>
0165   <span class="comment">% Smoother 1</span>
0166   <span class="comment">%</span>
0167   [SM1_EKF2,SP1_EKF2] = <a href="../../../src/erts_smooth1.html" class="code" title="function [M,P,D] = erts_smooth1(M,P,A,Q,a,W,param,same_p)">erts_smooth1</a>(MM_EKF2,PP_EKF2,A,Q);
0168   eks2_rmse1 = sqrt(mean((X(1,:)-SM1_EKF2(1,:)).^2+(X(2,:)-SM1_EKF2(2,:)).^2));
0169   ME1_EKF2 = squeeze(SP1_EKF2(1,1,:)+SP1_EKF2(2,2,:));
0170   fprintf(<span class="string">'EKS2-RMSE1 = %.4f [%.4f]\n'</span>,eks2_rmse1,sqrt(mean(ME1_EKF2)));
0171 
0172   <span class="comment">%</span>
0173   <span class="comment">% Smoother 2</span>
0174   <span class="comment">%</span>
0175   [SM2_EKF2,SP2_EKF2] = <a href="../../../src/efbf_smooth1.html" class="code" title="function [M,P] = efbf_smooth1(M,P,Y,A,Q,ia,W,aparam,H,R,h,V,hparam,same_p_a,same_p_h)">efbf_smooth1</a>(MM_EKF2,PP_EKF2,Y,A,Q,[],[],[],<span class="keyword">...</span>
0176                 dh_dx_func,R*eye(2),h_func,[],[S1 S2]);
0177   eks2_rmse2 = sqrt(mean((X(1,:)-SM2_EKF2(1,:)).^2+(X(2,:)-SM2_EKF2(2,:)).^2));
0178   ME2_EKF2 = squeeze(SP2_EKF2(1,1,:)+SP2_EKF2(2,2,:));
0179   fprintf(<span class="string">'EKS2-RMSE2 = %.4f [%.4f]\n'</span>,eks2_rmse2,sqrt(mean(ME2_EKF2)));
0180   
0181   <span class="keyword">if</span> ~silent
0182     plot(X(1,:),X(2,:),<span class="string">'k-'</span>,<span class="keyword">...</span>
0183          MM_EKF2(1,:),MM_EKF2(2,:),<span class="string">'b--'</span>,<span class="keyword">...</span>
0184          SM1_EKF2(1,:),SM1_EKF2(2,:),<span class="string">'r-.'</span>,<span class="keyword">...</span>
0185          SM2_EKF2(1,:),SM2_EKF2(2,:),<span class="string">'g-.'</span>,<span class="keyword">...</span>
0186          S1(1),S1(2),<span class="string">'k^'</span>,S2(1),S2(2),<span class="string">'k^'</span>);
0187     axis([-1.5 1.5 -2.5 1]);
0188     legend(<span class="string">'Real trajectory'</span>,<span class="keyword">...</span>
0189            <span class="string">'EKF2 estimate'</span>,<span class="keyword">...</span>
0190            <span class="string">'ERTS estimate'</span>,<span class="keyword">...</span>
0191            <span class="string">'EFBF estimate'</span>,<span class="keyword">...</span>
0192            <span class="string">'Positions of sensors'</span>,<span class="keyword">...</span>
0193            <span class="string">'Location'</span>, <span class="string">'NorthWest'</span>);
0194     title(<span class="string">'Filtering and smoothing result with 2nd order EKF'</span>);
0195     <span class="keyword">if</span> save_plots
0196       print -dpsc bot_demo_ekf2.ps
0197     <span class="keyword">end</span>
0198   <span class="keyword">end</span>
0199   
0200   pause
0201   
0202   <span class="comment">% Initialize UKF</span>
0203   M = M_0;
0204   P = P_0;
0205   MM_UKF = zeros(size(M,1),size(Y,2));
0206   PP_UKF = zeros(size(M,1),size(M,1),size(Y,2));
0207   ME_UKF = zeros(size(M,1),1);
0208   
0209   <span class="comment">% Filter with UKF</span>
0210   <span class="keyword">for</span> k=1:size(Y,2)
0211     [M,P] = <a href="../../../src/ukf_predict1.html" class="code" title="function [M,P] = ukf_predict1(M,P,a,Q,param,alpha,beta,kappa,mat)">ukf_predict1</a>(M,P,A,Q);
0212     [M,P] = <a href="../../../src/ukf_update1.html" class="code" title="function [M,P,K,MU,S,LH] = ukf_update1(M,P,Y,h,R,param,alpha,beta,kappa,mat)">ukf_update1</a>(M,P,Y(:,k),h_func,R*eye(2),[S1 S2]);
0213     MM_UKF(:,k)   = M;
0214     PP_UKF(:,:,k) = P;
0215     ME_UKF(k) = P(1,1) + P(2,2);
0216   <span class="keyword">end</span>
0217   
0218   <span class="comment">% Calculate RMSE</span>
0219   ukf_rmse = sqrt(mean((X(1,:)-MM_UKF(1,:)).^2+(X(2,:)-MM_UKF(2,:)).^2));
0220   fprintf(<span class="string">'UKF-RMSE  = %.3f  [%.3f]\n'</span>,ukf_rmse,sqrt(mean(ME_UKF)));
0221 
0222   <span class="comment">% URTS Smoother</span>
0223   [SM1_UKF,SP1_UKF] = <a href="../../../src/urts_smooth1.html" class="code" title="function [M,P,D] = urts_smooth1(M,P,a,Q,param,alpha,beta,kappa,mat,same_p)">urts_smooth1</a>(MM_UKF,PP_UKF,A,Q);
0224   uks_rmse1 = sqrt(mean((X(1,:)-SM1_UKF(1,:)).^2+(X(2,:)-SM1_UKF(2,:)).^2));
0225   ME1_UKF = squeeze(SP1_UKF(1,1,:)+SP1_UKF(2,2,:));
0226   fprintf(<span class="string">'UKS-RMSE1 = %.4f [%.4f]\n'</span>,uks_rmse1,sqrt(mean(ME1_UKF)));  
0227   
0228   <span class="comment">% UFBF Smoother</span>
0229   IAW = inv(A)*[eye(size(A,1)) eye(size(A,1))];
0230   [SM2_UKF,SP2_UKF] = <a href="../../../src/ufbf_smooth1.html" class="code" title="function [M,P] = ufbf_smooth1(M,P,Y,ia,Q,aparam,h,R,hparam,alpha,beta,kappa,mat,same_p_a,same_p_h)">ufbf_smooth1</a>(MM_UKF,PP_UKF,Y,IAW,Q,[],<span class="keyword">...</span>
0231                            h_func,R*eye(2),[S1 S2]);
0232 
0233   uks_rmse2 = sqrt(mean((X(1,:)-SM2_UKF(1,:)).^2+(X(2,:)-SM2_UKF(2,:)).^2));
0234   ME2_UKF = squeeze(SP2_UKF(1,1,:)+SP2_UKF(2,2,:));
0235   fprintf(<span class="string">'UKS-RMSE2 = %.4f [%.4f]\n'</span>,uks_rmse2,sqrt(mean(ME2_UKF)));
0236   
0237   <span class="comment">% Plot</span>
0238   <span class="keyword">if</span> ~silent
0239     plot(X(1,:),X(2,:),<span class="string">'k-'</span>,<span class="keyword">...</span>
0240          MM_UKF(1,:),MM_UKF(2,:),<span class="string">'b--'</span>,<span class="keyword">...</span>
0241          SM1_UKF(1,:),SM1_UKF(2,:),<span class="string">'r-.'</span>,<span class="keyword">...</span>
0242          SM2_UKF(1,:),SM2_UKF(2,:),<span class="string">'g-.'</span>,<span class="keyword">...</span>
0243          S1(1),S1(2),<span class="string">'k^'</span>,S2(1),S2(2),<span class="string">'k^'</span>);
0244     axis([-1.5 1.5 -2.5 1]);
0245     legend(<span class="string">'Real trajectory'</span>,<span class="keyword">...</span>
0246            <span class="string">'UKF estimate'</span>,<span class="keyword">...</span>
0247            <span class="string">'URTS estimate'</span>,<span class="keyword">...</span>
0248            <span class="string">'UFBF estimate'</span>,<span class="keyword">...</span>
0249            <span class="string">'Positions of sensors'</span>,<span class="keyword">...</span>
0250            <span class="string">'Location'</span>, <span class="string">'NorthWest'</span>);
0251     title(<span class="string">'Filtering and smoothing result with UKF'</span>);
0252     <span class="keyword">if</span> save_plots
0253       print -dpsc bot_demo_ukf.ps
0254     <span class="keyword">end</span>
0255   <span class="keyword">end</span></pre></div>
<hr><address>Generated on Thu 07-Jun-2007 14:54:42 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>